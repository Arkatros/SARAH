<section class="test-wrapper" *ngIf="loaded(); else loading">
  <h2 class="test-title">Perinatal Anxiety Screening Scale (PASS)</h2>
  <div class="test-card">
    <div class="question" *ngFor="let q of questions()">
      <h3><span [innerHTML]="q.number + '. ' + q.description"></span></h3>
      <div class="options">
        <label *ngFor="let r of q.responses">
          <input type="radio" name="q-{{ q.number }}" [value]="r.value" [(ngModel)]="answers['q-'+q.number]" />
          {{ r.description }}
        </label>
      </div>
    </div>
  </div>
  <div class="actions">
    <button class="submit-btn" (click)="submit()">Submit</button>
  </div>
</section>
<ng-template #loading><p>Loading...</p></ng-template>

<div class="score-backdrop" *ngIf="showingScore()" (click)="closeScore()">
  <div class="score-modal" [ngClass]="scoreClass()" (click)="$event.stopPropagation()">
    <h3>Score</h3>
    <p class="score-value">{{ score() }}</p>
    <button class="close-btn" (click)="closeScore()">Close</button>
  </div>
</div>
